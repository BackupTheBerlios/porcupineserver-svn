<?xml version="1.0"?>
<a:dialog xmlns:a="http://www.innoscript.org/quix"
	title="%(TITLE)s" img="%(IMAGE)s" resizable="true"
	close="true" width="480"
	height="540" left="30%%" top="10%%">
	<a:script name="Generic Form Script" src="scripts/form_auto.js"></a:script>
	<a:script name="FileTrack Select Persons dialog script" src="%(ROOTURI)s/filetrack/selectpersons.js"></a:script>
	<a:wbody>
		<a:form action="%(URI)s" method="update">
			<a:rect width="100%%" height="100%%" padding="4,4,4,4">
			
				<a:label top="2" width="150" align="right" caption="%(entryDate)s:"></a:label>
				<a:datepicker left="150" width="120" name="entryDate" value="%(ENTRY_DATE)s" readonly="%(READONLY)s"></a:datepicker>
				
				<a:label top="2" left="270" width="100" align="right" caption="%(entryType)s:"></a:label>
				<a:combo left="370" name="entryType" menuheight="40" readonly="true" width="100">
					<a:option value="1" selected="%(IS_INBOUND)s" caption="%(INBOUND)s"></a:option>
					<a:option value="2" selected="%(NOT_IS_INBOUND)s" caption="%(OUTBOUND)s"></a:option>
				</a:combo>
				
				<a:label top="32" align="right" width="80" caption="%(description)s:"></a:label>
				<a:field left="80" top="30" width="this.parent.getWidth()-80" name="description" value="%(DESCRIPTION)s" readonly="%(READONLY)s"></a:field>
				
				<a:hr top="60" width="100%%"></a:hr>
				
				<a:splitter top="65" orientation="v" spacing="10" width="100%%" height="200">
					<a:pane length="50%%">
				        <a:rect width="100%%" height="40">
				            <a:label width="80" height="20" caption="%(sender)s:"></a:label>
				            <a:field id="sender" name="sender" type="hidden" value="%(SENDER_ID)s"></a:field>
				            <a:field id="sender_name" top="20" width="this.parent.getWidth()-40" value="%(SENDER_DN)s" readonly="true"></a:field>
				            <a:button top="20" left="this.parent.getWidth()-40" caption="..." width="20" height="20" disabled="%(READONLY)s" onclick="selectPersons.selectPersons"></a:button>
				            <a:button top="20" left="this.parent.getWidth()-20" img="images/cancel8.gif" width="20" height="20" disabled="%(READONLY)s" onclick="generic.clearReference1"></a:button>
				        </a:rect>
		
				        <a:rect top="45" width="100%%" height="40">
				            <a:label width="80" height="20" caption="%(receiver)s:"></a:label>
				            <a:field id="receiver" name="receiver" type="hidden" value="%(RECEIVER_ID)s"></a:field>
				            <a:field id="receiver_name" top="20" width="this.parent.getWidth()-40" value="%(RECEIVER_DN)s" readonly="true"></a:field>
				            <a:button top="20" left="this.parent.getWidth()-40" caption="..." width="20" height="20" disabled="%(READONLY)s" onclick="selectPersons.selectPersons"></a:button>
				            <a:button top="20" left="this.parent.getWidth()-20" img="images/cancel8.gif" width="20" height="20" disabled="%(READONLY)s" onclick="generic.clearReference1"></a:button>
				        </a:rect>
		
						<a:rect top="95" width="100%%" height="100">
				            <a:splitter width="100%%" height="100%%" orientation="h" spacing="1">
				            	<a:pane length="20">
				            		<a:label caption="%(cc)s:"></a:label>
				            	</a:pane>
				                <a:pane length="-1">
				                    <a:selectlist id="cc" name="cc" multiple="true" posts="all" width="100%%" height="100%%">
				                        %(CC_OPTIONS)s
				                    </a:selectlist>
				                </a:pane>
				                <a:pane length="20" disabled="%(READONLY)s">
				                    <a:flatbutton width="70" height="20" caption="%(ADD)s..." onclick="selectPersons.selectPersons"></a:flatbutton>
				                    <a:flatbutton left="80" width="70" height="20" caption="%(REMOVE)s" onclick="generic.removeSelectedItems"></a:flatbutton>
				                </a:pane>
				            </a:splitter>
				        </a:rect>
				    </a:pane>
				    <a:pane length="-1">
						<a:label width="100" caption="%(aa)s:"></a:label>
						<a:field top="20" width="100%%" name="aa" value="%(AA)s" readonly="%(READONLY)s"></a:field>

						<a:label top="45" width="100" caption="%(senderDate)s:"></a:label>
						<a:datepicker top="65" width="100%%" name="senderDate" value="%(SENDER_DATE)s" readonly="%(READONLY)s"></a:datepicker>

						<a:label top="90" width="100" caption="%(senderCode)s:"></a:label>
						<a:field top="110" width="100%%" name="senderCode" value="%(SENDER_CODE)s" readonly="%(READONLY)s"></a:field>

				        <a:rect top="135" width="100%%" height="40">
				            <a:label width="80" height="20" caption="%(currentOwner)s:"></a:label>
				            <a:field id="currentOwner" name="currentOwner" type="hidden" value="%(CURRENT_OWNER_ID)s"></a:field>
				            <a:field id="currentOwner_name" top="20" width="this.parent.getWidth()-40" value="%(CURRENT_OWNER_DN)s" readonly="true"></a:field>
				            <a:button top="20" left="this.parent.getWidth()-40" caption="..." width="20" height="20" disabled="%(READONLY)s" onclick="selectPersons.selectPersons"></a:button>
				            <a:button top="20" left="this.parent.getWidth()-20" img="images/cancel8.gif" width="20" height="20" disabled="%(READONLY)s" onclick="generic.clearReference1"></a:button>
				        </a:rect>
				    </a:pane>
				</a:splitter>

				<a:tabpane top="265" width="100%%" height="this.parent.getHeight()-265">
					<a:tab caption="%(logEntryDocuments)s">
			            <a:multifile name="logEntryDocuments" method="getfile" width="100%%" height="100%%" readonly="%(READONLY)s">
			            	%(DOCUMENTS)s
			            </a:multifile>
					</a:tab>
					<a:tab caption="%(issues)s">
			            <a:splitter width="100%%" height="100%%" orientation="h">
			                <a:pane length="-1">
			                    <a:selectlist name="issues" multiple="true" posts="all" width="100%%" height="100%%">
			                        <a:prop name="SelectFrom" value="%(ISSUES_URI)s"></a:prop>
			                        <a:prop name="RelatedCC" value="%(ISSUES_CC)s"></a:prop>
			                        %(ISSUES)s
			                    </a:selectlist>
			                </a:pane>
			                <a:pane length="24" disabled="%(READONLY)s">
			                    <a:flatbutton width="70" height="22" caption="%(ADD)s..." onclick="generic.selectItems"></a:flatbutton>
			                    <a:flatbutton left="80" width="70" height="22" caption="%(REMOVE)s" onclick="generic.removeSelectedItems"></a:flatbutton>
			                </a:pane>
			            </a:splitter>
					</a:tab>
					<a:tab caption="%(categories)s">
			            <a:splitter width="100%%" height="100%%" orientation="h">
			                <a:pane length="-1">
			                    <a:selectlist name="categories" multiple="true" posts="all" width="100%%" height="100%%">
			                        <a:prop name="SelectFrom" value="%(CATEGORIES_URI)s"></a:prop>
			                        <a:prop name="RelatedCC" value="%(CATEGORIES_CC)s"></a:prop>
			                        %(CATEGORIES)s
			                    </a:selectlist>
			                </a:pane>
			                <a:pane length="24" disabled="%(READONLY)s">
			                    <a:flatbutton width="70" height="22" caption="%(ADD)s..." onclick="generic.selectItems"></a:flatbutton>
			                    <a:flatbutton left="80" width="70" height="22" caption="%(REMOVE)s" onclick="generic.removeSelectedItems"></a:flatbutton>
			                </a:pane>
			            </a:splitter>
					</a:tab>
					<a:tab caption="%(comments)s">
						<a:field type="textarea" width="100%%" height="100%%" name="comments" readonly="%(READONLY)s">%(COMMENTS)s</a:field>
					</a:tab>
					%(SECURITY_TAB)s
				</a:tabpane>
			</a:rect>
		</a:form>
	</a:wbody>
	<a:dlgbutton onclick="generic.updateItem" width="70" height="22" caption="%(UPDATE)s" disabled="%(READONLY)s"></a:dlgbutton>
	<a:dlgbutton onclick="__closeDialog__" width="70" height="22" caption="%(CLOSE)s"></a:dlgbutton>
</a:dialog>